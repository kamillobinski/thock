## [What's New](https://github.com/kamillobinski/thock/compare/1.17.4...1.18.0)

> HUGE UPDATE ðŸ¤¯
> New custom low-latency engine, smart power management and more control in your hands.

### New Features

- **Custom Ultra-Low Latency Audio Engine**
  Completely rebuilt the sound system from the ground up using Core Audio's low-level AudioQueue APIs. No more AVAudioEngine. You asked for faster response times, you got them. Configurable buffer sizes down to 64 frames. Tune it for maximum responsiveness or dial it back for lower CPU usage. Your choice.

- **Natural Pitch Variation**
  Sounds now have subtle pitch variations with each keystroke using linear interpolation resampling. Fast enough to keep latency under control while making every keypress feel organic, not robotic.

- **Smart Accessibility Permission Detection**
  Thock now detects fresh install and an update to guide you through the setup.

- **VoiceOver Support**
  The menu bar is now fully keyboard and VoiceOver accessible. @distantorigin ðŸ«¡

### Improvements

- **Idle CPU Optimization**
  Thock now stops the audio engine when you're not typing, reducing CPU usage to nearly zero during idle periods. You can configure the timeout (5 seconds to never) in Settings â†’ Sound â†’ Performance. The first keystroke after idle might have a tiny delay, but your battery will thank you.

- **Configurable Audio Latency**
  New setting in Sound â†’ Performance lets you choose your latency preference:
  â†’ Ultra Low (64 frames): most responsive, highest CPU
  â†’ Low (128 frames): very responsive, high CPU
  â†’ Normal (256 frames): balanced (recommended)
  â†’ High (512 frames): lower CPU, slight delay
  â†’ Very High (1024 frames): lowest CPU, noticeable delay

- **Refreshed Settings UI**
  The settings window got a full makeover. Cleaner layout, better organization and modular architecture under the hood.

### Bug Fixes

- **Fixed main toggle switch size**
  The toggle was comically large. It's now appropriately small and tasteful.

- **Fixed broken menu layout**
  Default settings icon was breaking the menu structure. Balance restored.

---

> Give it a spin.
